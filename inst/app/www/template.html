<!DOCTYPE html>
<html>
<head>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body, h1,h2,h3,h4,h5,h6 {font-family: "Montserrat", sans-serif}
.w3-row-padding img {margin-bottom: 12px}
/* Set the width of the sidebar to 120px */
.w3-sidebar {width: 120px;background: #222;}
/* Add a left margin to the "page content" that matches the width of the sidebar (120px) */
#main {margin-left: 120px}
/* Remove margins from "page content" on small screens */
@media only screen and (max-width: 600px) {#main {margin-left: 0}}
</style>
</head>
<body class="w3-black">

<!-- Icon Bar (Sidebar - hidden on small screens) -->
<nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
  
  <!-- Avatar image in top left corner -->
  <img src="/www/creepy_horse.png" style="width:80%">
  
  <a href="#" class="w3-bar-item w3-button w3-padding-large w3-black">
    <i class="fa fa-home w3-xxlarge"></i>
    <p>HOME</p>
  </a>
  
  <a href="#about" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-navicon w3-xxlarge"></i>
    <p>ABOUT</p>
  </a>
  
  <a href="#usage" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-cogs w3-xxlarge"></i>
    <p>USAGE</p>
  </a>
  
  <a href="#import" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-cloud-upload w3-xxlarge"></i>
    <p>IMPORT</p>
  </a>
  
  <a href="#summarise" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-line-chart w3-xxlarge"></i>
    <p>SUMMARISE</p>
  </a>
  
    <a href="#partition" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-line-chart w3-xxlarge"></i>
    <p>PARTITION</p>
  </a>
  
  <a href="#export" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-cloud-download w3-xxlarge"></i>
    <p>EXPORT</p>
  </a>
  
</nav>

<!-- Navbar on small screens (Hidden on medium and large screens) -->
<div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
  <div class="w3-bar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
    <a href="#" class="w3-bar-item w3-button" style="width:25% !important">HOME</a>
    <a href="#usage" class="w3-bar-item w3-button" style="width:25% !important">USAGE</a>
    <a href="#import" class="w3-bar-item w3-button" style="width:25% !important">IMPORT</a>
    <a href="#summarise" class="w3-bar-item w3-button" style="width:25% !important">SUMMARISE</a>
    <a href="#partition" class="w3-bar-item w3-button" style="width:25% !important">PARTITION</a>
    <a href="#export" class="w3-bar-item w3-button" style="width:25% !important">EXPORT</a>
  </div>
</div>

<!-- Page Content -->
<div class="w3-padding-large" id="main">
  <!-- Header/Home -->
  <header class="w3-container w3-padding-32 w3-center w3-black" id="home">
    <h1 class="w3-jumbo"><span class="w3-hide-small">stable.</h1>

    <p>Understanding synchrony-stability relationships in complex hierarchical systems</p>

    <div style = "margin-left:3em; margin-right:3em;margin-top:0em;margin-bottom:2em;">
      <img src="./www/sync_biomass.gif" style="width:80%; height: auto;">
      </div>

  </header>

  <!-- About Section -->
  <div class="w3-content w3-justify w3-text-grey w3-padding-64" id="about">
    <h2 class="w3-text-light-grey"></h2>
    <hr style="width:200px" class="w3-opacity">
    <h1 class="w3-xxlarge"><span class="w3-hide-small">Background and rationale</h1>
    
    <p>The dynamics of complex hierarchical systems, such as ecosystems or financial portfolios, are stabilized by fluctuations among system components. The amount by which the system is stabilized is related to how <i>synchronous</i> lower-level components are. If these lower-level components (e.g., populations) are perfectly correlated through time, then the dynamics of the system in aggregate (e.g., the community) will equate to the summed dynamics of all species, and no stability will be imparted.
    
    These systems are <i>nested hierarchical systems</i>, meaning that higher level components (e.g., communities) are composed of lower-level components (e.g., species). Unless the temporal dynamics of lower-level components are perfectly correlated, their dynamics will tend to offset and introduce asynchrony into the system.</p>
    
    <p>Asynchrony among lower-level components will result in lower temporal variability at higher levels within the system: a <i>portfolio effect (PE).</i> To provide an example in the context of natural systems, asynchrony in the dynamics of populations over space (where "dynamics" refers to population biomass through time) will reduce variability in the dynamics of the aggregated populations, or the metapopulation. This concept is known as spatial insurance, and the reduction in variability between levels the "spatial PE".</p>
    
    <p>The goal of {stable} is to provide access to a framework, borrowed from community ecology (Wang et. al 2019; Lamy et al. 2018), that conceptualizes and quantifies how PEs emerge in complex hierarchical systems, regardless of domain.</p>
    
   <!-- Usage Section -->
   <div class="w3-content w3-justify w3-text-grey w3-padding-64" id="usage">
    <h2 class="w3-text-light-grey"></h2>
    <hr style="width:200px" class="w3-opacity">
    <h1 class="w3-xxlarge"><span class="w3-hide-small">Usage</h1>
    
    <p>The functionality of {stable} reflects the idea that synchrony-stability relationships are general properties of complex hierarchical systems. Therefore, it does not require that the user have data specific to ecosystem properites such as biomass or abundance. However, the app is still in early stages of development and is best suited for these types of data.</p>
    
    <p>The {stable} app determines the hierarchical structure of your data from the number of unique combinations between nested grouping variables, which are referred to as `dimensionA` and `dimensionB`. For example, if the column `dimensionA` contains multiple locations and `dimensionB` contains multiple species observed within locations, then {stable} will partition variability hierarchically into the average variability of biomass within unique combinations of `dimensionA` and `dimensionB` (populations), the average variability of total community biomass across `dimensionB` (locations), and the average variability of metapopulation biomass across `dimensionA` (species). In each case, variability is weighted by the contribution of biomass to the whole system (metacommunity) following Wang et al. 2019 and Lamy et al. 2020.</p></P>
    
    <p>You may instead choose to provide the app with non-spatial data representing something like a portfolio of managed resources or financial assets. In these cases, there is no second dimension to consider. When importing these types of data, simply include a column containing a single repeated grouping variable. Data must be in <i>.csv</i> format and adhere to the following structure:
    </p>
    
    <img src="./www/data_formatting.png" style="width:50%; display:block; margin-left:auto; margin-right:auto;">
    
    <p>Once your data are imported, enter the column names that correspond to the two grouping dimensions, system property of interest, and time variable.</p>
    
    </div>
    <!-- Data import section -->
    <div class="w3-content w3-justify w3-text-grey w3-padding-64" id="import">
      <h2 class="w3-text-light-grey"></h2>
      <hr style="width:200px" class="w3-opacity">
      <h1 class="w3-xxlarge"><span class="w3-hide-small">Import</h1>
   

      {{first}}
      
     </div>
    <!-- Visualization section -->    
    <div class="w3-content w3-justify w3-text-grey w3-padding-64" id="summarise">
      <h2 class="w3-text-light-grey"></h2>
      <hr style="width:200px" class="w3-opacity">
      <h1 class="w3-xxlarge"><span class="w3-hide-small">Summarise</h1>
      
      {{second}}

    </div>
    
        <!-- Variability partitioning section -->
    <div class="w3-content w3-justify w3-text-grey w3-padding-64" id="partition">
      <h2 class="w3-text-light-grey"></h2>
      <hr style="width:200px" class="w3-opacity">
      <h1 class="w3-xxlarge"><span class="w3-hide-small">Partition</h1>
      
      {{third}}

    </div>
    
    <!-- Export section -->    
    <div class="w3-content w3-justify w3-text-grey w3-padding-64" id="export">
      <h2 class="w3-text-light-grey"></h2>
      <hr style="width:200px" class="w3-opacity">
      <h1 class="w3-xxlarge"><span class="w3-hide-small">Export</h1>

    </div>
    
    
</div>


<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
